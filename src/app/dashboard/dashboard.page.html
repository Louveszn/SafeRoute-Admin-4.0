<!-- Header -->
<div class="header">
  <h2>Incident Summary</h2>
</div>

<div class="stats-grid">
  <!-- Total -->
  <a class="stat-card-link" [routerLink]="['/total-incidents']">
    <div class="stat-card" tabindex="0" role="button">
      <h3>{{ (counts$ | async)?.total ?? '—' }}</h3>
      <p>Total Incidents</p>
    </div>
  </a>

  <!-- Pending -->
  <a class="stat-card-link" [routerLink]="['/total-incidents']" [queryParams]="{ tab: 'pending' }">
    <div class="stat-card">
      <h3>{{ (counts$ | async)?.pending ?? '—' }}</h3>
      <p>Pending Verifications</p>
    </div>
  </a>

  <!-- Verified -->
  <a class="stat-card-link" [routerLink]="['/total-incidents']" [queryParams]="{ tab: 'verified' }">
    <div class="stat-card">
      <h3>{{ (counts$ | async)?.verified ?? '—' }}</h3>
      <p>Verified Incidents</p>
    </div>
  </a>

  <!-- Resolved -->
  <a class="stat-card-link" [routerLink]="['/total-incidents']" [queryParams]="{ tab: 'resolved' }">
    <div class="stat-card">
      <h3>{{ (counts$ | async)?.resolved ?? '—' }}</h3>
      <p>Resolved Incidents</p>
    </div>
  </a>
</div>

<!-- Recent Reports -->
  <div class="card recent-reports">
    <h4>Recent Reports</h4>
    <table>
      <thead>
        <tr>
          <th>Category</th>
          <th>Date</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let r of recentReports$ | async">
          <td>{{ r.category }}</td>
          <td>
            {{ dateOnly(r.datetime) }}<br />
            {{ timeOnly(r.datetime) }}
          </td>
          <td>
            <span class="status" [class.pending]="r.status==='pending'"
                                 [class.verified]="r.status==='verified'"
                                 [class.resolved]="r.status==='resolved'">
              {{ r.status | titlecase }}
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

